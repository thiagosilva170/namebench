<html>
<head><title>namebench: {{ timestamp }}</title></head>
<style type-"text/css">
  {% include "style.css" %}
</style>
<body>

<div id="big_summary" class="greybox">
	In this test, <strong>{% if best.ip == system_primary %}Your current primary DNS server{% else %}{{ best.name }}{% endif %}</strong> is
	<h1>{{ "%0.0f"|format(comparison.percent) }}% <span id="sumverb">Faster</span></h1>
	than {% if comparison.ns.ip == system_primary %}your current primary DNS server{% else %}{{ comparison.ns.name }}{% endif %}
</div>

<div id="recommended_config" class="greybox">
	<h4>Recommended configuration (fastest + nearest)</h4>
	<table>
	{% for ns in recommended %}
	<tr>
	  <td>{% if loop.index == 1 %}Primary{% elif loop.index == 2 %}Secondary{% else %}Tertiary{% endif %} Server</td>
    <td><input type="text" disabled=1 value="{{ ns.ip }}"></td><td class="rec_name">{% if ns.name != ns.ip %}{{ ns.name }}{% endif %}</td>
	</tr>
{% endfor %}
  </table>
</div>

<h2>Tested DNS Servers</h2>

<div id="nsdetails" class="section">
<table id="nstable">
<thead>
<tr>
  <td nowrap="nowrap">IP</td>
  <td nowrap="nowrap">Descr.</td>
  <td nowrap="nowrap">Hostname</td>
  <td nowrap="nowrap">Avg (ms)</td>
  <td nowrap="nowrap">Err #</td>
  <td nowrap="nowrap">NX #</td>
  <td>Notes</td>
</tr>
</thead>
{% for row in nameserver_details %}
<tr class="{% if row.0.disabled %}disabled{% else %}{{ loop.cycle('odd', 'even')}}{% endif %} {% if row.0.system_position == 0 %}primary_row{% endif %}">
  <td>{{ row.0.ip }}</td>
  <td>{{ row.0.name }}</td>
  <td>{{ row.0.hostname }}</td>
  <td>{{ "%0.2f"|format(row.1) }}</td>
  <td>{{ row.3 }}</td>
  <td>{{ row.4 }}</td>
  <td><ul class="warnings">
	{% if row.0.system_position == 0 %}<li>Your current primary DNS server</li>{% endif %}
	{% if row.0.disabled %}
	    <li><strong>{{ row.0.disabled|e }}</strong></li>
	{% else %}
    	{% for warning in row.0.warnings %}
    		<li>{{ warning|e }}</li>
        {% endfor %}
    {% endif %}
	</ul>
  </td>
</tr>
{% endfor %}
</table>
</div>

<h2>Graphs</h2>

<div id="graphs" class="section">
<h2>Mean Response Duration</h2>
<img src="{{ mean_duration_url }}" alt="Mean Duration Graph">

<h3>Fastest Individual Response Duration</h3>
<img src="{{ min_duration_url }}" alt="Fastest Response Graph">

<h3>Response Distribution Chart (First 200ms)</h3>

<img src="{{ distribution_url_200 }}" alt="Response Distribution Graph (first 200ms)">

<h3>Response Distribution Chart (Full)</h3>

<img src="{{ distribution_url }}" alt="Response Distribution Graph (full)">
</div>

{% if config %}
<h2>Configuration</h2>


<div id="config" class="section">
<table id="configtable">
	<thead><tr><td>Name</td><td>Value</td></tr></thead>
	{% for item in config %}
	  <tr><td>{{ item.0 }}</td><td>{{ item.1 }}</td></tr>
	{% endfor %}
</table>
</div>
{% endif %}
</body>
</html>

